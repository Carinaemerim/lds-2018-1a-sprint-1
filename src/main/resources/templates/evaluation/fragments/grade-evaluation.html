<!-- form start -->

<form class="form-horizontal" th:action="@{/evaluation/grade/submit}" action="#"
      th:object="${grade}" id="form-termpaper-advisor" method="post" enctype="multipart/form-data"
      xmlns:div="http://www.w3.org/1999/html">
    <div class="row">
        <div class="col-md-6">
            <div class="box">
                <div class="box-header bg-gray-light">
                    <h3><span th:text="#{evaluation.written.work}"/></h3>
                </div>
                <div class="box-body">
                    <input type="hidden" id="id" th:field="*{id}"/>
                    <input type="hidden" id="documentId" name="documentId" th:value="*{document.id}"/>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="literatureReview" class="col-md-9"
                                   th:text="#{evaluation.written.item-1}"></label>
                            <div class="col-md-3"
                                 th:classappend="${#fields.hasErrors('literatureReview')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control"
                                       id="literatureReview"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{literatureReview}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('literatureReview')}" th:errors="*{literatureReview}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="objective" class="col-md-9" th:text="#{evaluation.written.item-2}"> </label>
                            <div class="col-md-3" th:classappend="${#fields.hasErrors('objective')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control" id="objective"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{objective}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('objective')}" th:errors="*{objective}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="methodology" class="col-md-9" th:text="#{evaluation.written.item-3}">
                            </label>
                            <div class="col-md-3" th:classappend="${#fields.hasErrors('methodology')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control" id="methodology"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{methodology}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('methodology')}" th:errors="*{methodology}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="theoreticalApproach" class="col-md-9" th:text="#{evaluation.written.item-4}">
                            </label>
                            <div class="col-md-3"
                                 th:classappend="${#fields.hasErrors('theoreticalApproach')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control"
                                       id="theoreticalApproach"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{theoreticalApproach}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('theoreticalApproach')}"
                                      th:errors="*{theoreticalApproach}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="experiencedSolution" class="col-md-9" th:text="#{evaluation.written.item-5}">
                            </label>
                            <div class="col-md-3"
                                 th:classappend="${#fields.hasErrors('experiencedSolution')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control"
                                       id="experiencedSolution"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{experiencedSolution}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('experiencedSolution')}"
                                      th:errors="*{experiencedSolution}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="conclusion" class="col-md-9" th:text="#{evaluation.written.item-6}">
                            </label>
                            <div class="col-md-3" th:classappend="${#fields.hasErrors('conclusion')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control" id="conclusion"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{conclusion}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('conclusion')}" th:errors="*{conclusion}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>


                </div>
                <!--div class="box-footer text-left">
                    <h4 class="text-right">Total Escrito: 9.0</h4>
                </div-->
            </div>
        </div>
        <!-- col 2 -->
        <div class="col-md-6">
            <div class="box">
                <div class="box-header bg-gray-light">
                    <h3><span th:text="#{evaluation.oral.presentation}"/></h3>
                </div>
                <div class="box-body">
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="presentation" class="col-md-9" th:text="#{evaluation.presentation.item-1}">
                            </label>
                            <div class="col-md-3" th:classappend="${#fields.hasErrors('presentation')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control" id="presentation"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{presentation}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('presentation')}" th:errors="*{presentation}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="closingExpectedTime" class="col-md-9"
                                   th:text="#{evaluation.presentation.item-2}">
                            </label>
                            <div class="col-md-3"
                                 th:classappend="${#fields.hasErrors('closingExpectedTime')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control"
                                       id="closingExpectedTime"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{closingExpectedTime}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('closingExpectedTime')}"
                                      th:errors="*{closingExpectedTime}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="adequacyOfPresentation" class="col-md-9"
                                   th:text="#{evaluation.presentation.item-3}">
                            </label>
                            <div class="col-md-3"
                                 th:classappend="${#fields.hasErrors('adequacyOfPresentation')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control"
                                       id="adequacyOfPresentation"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{adequacyOfPresentation}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('adequacyOfPresentation')}"
                                      th:errors="*{adequacyOfPresentation}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="subjectDomain" class="col-md-9" th:text="#{evaluation.presentation.item-4}">
                            </label>
                            <div class="col-md-3" th:classappend="${#fields.hasErrors('subjectDomain')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control" id="subjectDomain"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{subjectDomain}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('subjectDomain')}" th:errors="*{subjectDomain}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="developmentInLogicalSequence" class="col-md-9"
                                   th:text="#{evaluation.presentation.item-5}">
                            </label>
                            <div class="col-md-3"
                                 th:classappend="${#fields.hasErrors('developmentInLogicalSequence')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control"
                                       id="developmentInLogicalSequence"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{developmentInLogicalSequence}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('developmentInLogicalSequence')}"
                                      th:errors="*{developmentInLogicalSequence}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-control-group">
                        <div class="form-group">
                            <label for="vocabulary" class="col-md-9" th:text="#{evaluation.presentation.item-6}">
                            </label>
                            <div class="col-md-3" th:classappend="${#fields.hasErrors('vocabulary')}? 'has-error'">
                                <input type="number" step="0.1" min="0" max="10" class="form-control" id="vocabulary"
                                       th:placeholder="#{evaluation.placeholder.grade.zero}"
                                       th:field="*{vocabulary}" th:disabled="*{isFinal}">
                                <span th:if="${#fields.hasErrors('vocabulary')}" th:errors="*{vocabulary}"
                                      th:class="help-block"/>
                            </div>
                        </div>
                    </div>


                </div>
                <!--div class="box-footer">
                    <h4 class="text-right">Total Apresentação: 8.0</h4>
                </div-->
            </div>

        </div>


    </div>

    <div class="box">
        <div class="box-body">
            <!-- textarea -->
            <div class="margin">
                <!-- textarea -->
                <div class="form-group" th:classappend="${#fields.hasErrors('considerations')}? 'has-error'">
                    <label for="considerations" class="control-label">
                        <span th:text="#{evaluation.considerations}"/>
                    </label>
                    <textarea class="form-control" rows="3" id="considerations" name="considerations"
                              th:placeholder="#{evaluation.considerations}" th:text="*{considerations}"
                              th:disabled="*{isFinal}">
                </textarea>
                    <span
                            th:if="${#fields.hasErrors('considerations')}" th:errors="*{considerations}"
                            th:class="help-block"/>
                </div>
                <div class="form-control-group">
                    <div class="form-group">
                        <label th:text="#{evaluation.file}" for="mFile">Arquivo</label>
                        <input type="file" name="mFile" id="mFile" th:disabled="*{isFinal}"/>

                        <label></label>
                        <div th:if="${grade.file} != null" class="row mt-2">

                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="info-box">
                                    <a th:href="@{|/file/${grade?.file?.id}|}">
                                        <span class="info-box-icon bg-aqua"><i
                                                class="fa fa-file-text-o"></i></span>
                                    </a>
                                    <div class="info-box-content">
                                        <a th:href="@{|/file/${grade?.file?.id}|}">
                                            <span class="info-box-text inline">
                                                <p class="help-block"
                                                   th:if="#{grade.file} != null"
                                                   th:text="#{evaluation.file}">

                                                </p>
                                            <span class="info-box-number inline"> <span
                                                    th:text="${grade.file?.filename}"></span></span>
                                            </span>
                                        </a>
                                        <div th:remove="*{isFinal}  ? all" class="inline margin">
                                            <button class="btn btn-flat btn-danger" name="action" type="submit"
                                                    value="delFile">
                                                <i class="fa fa-close"></i>
                                            </button>
                                        </div>
                                    </div>


                                </div>
                            </div>

                        </div>


                        <span th:if="${#fields.hasErrors('file')}" th:errors="*{file}"
                              th:class="help-block"/>
                    </div>
                </div>
                <div class="form-group">
                    <h2 class="text-right text-bold">Total Final:
                        <span th:text=" *{finalGrade} != null OR *{finalGrade} == false  ? *{#numbers.formatDecimal(finalGrade, 1, 1)} : '-'">8.5</span>
                    </h2>
                </div>
                <div class="form-group">
                    <p class="text-right text-muted font-italic">
                        <span th:text=" *{createdOn} != null ? *{#dates.format(createdOn, 'dd/MM/yyyy HH:mm')}">data</span>
                    </p>
                </div>
            </div>
        </div>
        <div th:remove="*{document.bank}  ? none :  all">
            <div class="box-footer" th:remove="*{isFinal} ? all">
                <div class="pull-right">
                    <button name="action" type="submit" value="draft" class="btn btn-default">
                        <i class="fa fa-pencil"></i> <span th:text="#{button.draft}"/>
                    </button>
                    <button class="btn btn-primary" type="button"
                            data-toggle="modal" data-target="#gradeEvaluationSubmitConfirmationModal"
                            name="action">
                        <i class="fa fa-check"></i> <span th:text="#{button.save}"/>
                    </button>
                </div>
                <button type="reset" class="btn btn-default">
                    <i class="fa fa-times"></i> <span th:text="#{button.discard}"/>
                </button>
            </div>
        </div>
    </div>
    <!-- /.box-body -->
    <div class="modal fade" id="gradeEvaluationSubmitConfirmationModal"
         aria-labelledby="gradeEvaluationSubmitConfirmationModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"
                            aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h3 class="modal-title"
                        th:text="#{evaluation.submit-confirmation.title}">Are you sure?</h3>
                </div>
                <div class="modal-body">
                    <h4 th:text="#{evaluation.submit-confirmation.message}">After
                        sending it will no longer be possible to change the information
                        until the selected advisor evaluates your theme.</h4>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal"
                            th:text="#{no}">No
                    </button>
                    <button type="submit" class="btn btn-primary" name="action"
                            value="evaluation" th:text="#{yes}">Yes
                    </button>
                </div>
            </div>
        </div>
    </div>


</form>




